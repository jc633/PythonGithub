//使sign区域居中
 	var sign = $('.sign-area');
 	function toCenter(e){
	 	var pos = (document.body.clientWidth-e.width())/2;
	 	e.css('margin-left', pos);
 	}
 	toCenter(sign);

 	//添加用户名\密码
 	$('.common').append(
                       '<div class="infor-input"><span>邮箱</span><input type="text" class="form-control" name="email"  placeholder="请输入邮箱"  datatype="e" errormsg="请输入有效的邮箱号"></div>'+
		 		  	' <div class="infor-input"><span>密码</span><input type="password" class="form-control" name="password" placeholder="输入6-16位密码(数字、字母组合)"  datatype="s6-16" errormsg="密码不符合要求"></div>'+
                    ' <div class="infor-input"><span>确认密码</span><input type="password" class="form-control" name="password1" recheck="password" placeholder="再输入一次密码"  datatype="s6-16" errormsg="两次密码不一致"></div>');
    

    //关闭自动填充
    $('input').attr('autocomplete', 'off');
    var lf = $('.login-form');
    var rf = $('.regist-form');
    var form = $('.sign-form');
    //登录注册切换
     function alterSign(e){
 		e.css('border-bottom', '2px solid #fff');
 		e.siblings('.sign-tit').css('border', 'none');
 	}
 	$('#login').on('click', function(event) {
 		rf.hide();
        lf.show(300);
 		alterSign($(this));
 	});
 	$('#regist').on('click', function(event) {
 		lf.hide();
 		rf.show(400);
 		alterSign($(this));
 	});
 	$(function() {
 		//判断执行的操作
 		var act = form.attr('data-act');
 		if(act=='login'){$('#login').click();}
 		else{$('#regist').click();}
        
        //显示错误信息8秒
        var msg = $('.error-message');
 		function showError(){
 			if(msg.text()!='None'){msg.show();setTimeout(function(){msg.hide();clearInterval(m);},8000);}
 		}
 		var m = setInterval(showError,200);

        //点击刷新验证码
        $('#verImg').on('click', function(event) {
            $(this).attr('src', '/user/get_vertify/time='+new Date().valueOf());
        });
 		//表单验证
 		function validform(e){
 			var form = e.Validform({
 			    tiptype:3,
				showAllError:true,
 			});
 		}
 		validform($('.login-form'));
 		validform($('.regist-form'));

        //实时验证验证码
        function showVertify_msg(msg){$('.vertify-msg').html(msg);}
        $('#vertify-input').focus(function(event) {
            if($('.vertify-msg').text()==''){ showVertify_msg('*输入右侧的验证码');}
           
        });
        $('#vertify-input').change(function(event) {
                var vertify = $('#vertify-input').val();
                $.ajax({
                    url:'/user/vertifyCode/check',
                    type:'GET',
                    datatype:'text',
                    data:{'code':vertify},
                    success:function(con){showVertify_msg(con);},
                    error:function(){},
                });
                
        });
		
 	});